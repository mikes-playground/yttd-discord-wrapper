<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="user-scalable=no" />
  <title>RPG Maker MV â€“ Discord Activity Wrapper</title>
  <meta http-equiv="origin-trial" content="">
  <style>
    html,body { margin:0; height:100%; background:#000; color:#fff; font-family:system-ui,sans-serif; }
    .center { display:grid; place-items:center; height:100%; }
    a,button { font:inherit; padding:0.75rem 1rem; border-radius:12px; border:0; cursor:pointer; }
  </style>
</head>
<body>
  <div class="center">
    <button id="launch">Launch Game</button>
  </div>

  <!-- Discord Embedded App SDK -->
  <script src="https://unpkg.com/@discord/embedded-app-sdk/dist/index.js"></script>
  <script>
    const discordSdk = new window.DiscordSDK();

    (async () => {
      await discordSdk.ready();
      console.log("Discord SDK ready");

      // Optional: request a short-lived code (no secret needed)
      try {
        const { code } = await discordSdk.commands.authorize({
          client_id: "1406431572558876783",
          response_type: "code",
          state: "xyz",
          prompt: "none",
          scope: ["identify"]
        });
        console.log("Auth code:", code);
      } catch (e) {
        console.warn("Authorize skipped/failed (okay for simple use):", e);
      }

      document.getElementById("launch").onclick = () => {
        // Navigate into the copy of your game
        window.location.href = "./game/index.html";
      };
    })();
  </script>
</body>
</html>
